<dom-module id="x-icon">

    <template>
        <style include="shared-config"></style>
        <style>
            :host {
                position: relative;
                display: block;
            }

            #svg {
                position: inherit;
                height: inherit;
                width: inherit;
            }

            :host([badge]) {
                fill: var(--secondary-color, black);
                width: 3.2em;
                height: 3.2em;
            }

            :host([card-icon]) {
                fill: var(--dark-green-color, black);
                width: 4.8em;
                height: 4.8em;
                padding: 1em 0 1em;
            }

            :host([accordion]) {
                width: 1rem;
                height: 1rem;
                fill: var(--blue-color);
            }

        </style>

        <svg id="svg" xmlns="http://www.w3.org/2000/svg">
            <use id="use"></use>
        </svg>

    </template>

    <script>
        Polymer({

            is: 'x-icon',

            properties: {

                name: {
                    type: String,
                    observer: '_nameChanged'
                }

            },

            _nameChanged: function(name) {
                /**
                 * Need to inject the element in order for the data binding to work. ISSUE: https://github.com/Polymer/polymer/issues/3060
                 * When fixed use: '<use xlink:href$="icons.svg#$[[name]]"></use>' inside the svg element
                 */
                this.$.use.setAttributeNS('http://www.w3.org/1999/xlink', 'href', '/assets/icons/glyphs.svg#' + name)
            }

        });
    </script>

</dom-module>
